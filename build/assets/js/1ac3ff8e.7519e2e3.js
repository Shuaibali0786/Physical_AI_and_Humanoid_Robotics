"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[994],{7271:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"module2-digital-twin/gazebo-setup","title":"Gazebo Environment Setup","description":"Introduction to Gazebo Environment Configuration","source":"@site/docs/module2-digital-twin/gazebo-setup.md","sourceDirName":"module2-digital-twin","slug":"/module2-digital-twin/gazebo-setup","permalink":"/docs/module2-digital-twin/gazebo-setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"modules","previous":{"title":"Simulating Sensors: LiDAR, Depth Cameras, IMUs","permalink":"/docs/module2-digital-twin/sensor-simulation"},"next":{"title":"URDF and SDF Formats","permalink":"/docs/module2-digital-twin/urdf-sdf"}}');var o=r(4848),t=r(8453);const l={},s="Gazebo Environment Setup",a={},d=[{value:"Introduction to Gazebo Environment Configuration",id:"introduction-to-gazebo-environment-configuration",level:2},{value:"Gazebo World File Structure",id:"gazebo-world-file-structure",level:2},{value:"Basic World File Components",id:"basic-world-file-components",level:3},{value:"Physics Configuration",id:"physics-configuration",level:3},{value:"Real-time Performance Settings",id:"real-time-performance-settings",level:4},{value:"Solver Parameters",id:"solver-parameters",level:4},{value:"Environment Elements",id:"environment-elements",level:2},{value:"Lighting Setup",id:"lighting-setup",level:3},{value:"Sun Model Configuration",id:"sun-model-configuration",level:4},{value:"Custom Light Sources",id:"custom-light-sources",level:4},{value:"Ground and Terrain",id:"ground-and-terrain",level:3},{value:"Ground Plane",id:"ground-plane",level:4},{value:"Custom Terrain",id:"custom-terrain",level:4},{value:"Model Placement and Configuration",id:"model-placement-and-configuration",level:2},{value:"Robot Model Integration",id:"robot-model-integration",level:3},{value:"Environment Objects",id:"environment-objects",level:3},{value:"Advanced Environment Features",id:"advanced-environment-features",level:2},{value:"Plugins for Enhanced Functionality",id:"plugins-for-enhanced-functionality",level:3},{value:"World Control Plugin",id:"world-control-plugin",level:4},{value:"Joint State Publisher",id:"joint-state-publisher",level:4},{value:"Camera and Sensor Worlds",id:"camera-and-sensor-worlds",level:3},{value:"Environment Customization",id:"environment-customization",level:2},{value:"Indoor Environments",id:"indoor-environments",level:3},{value:"Outdoor Environments",id:"outdoor-environments",level:3},{value:"Environment Validation",id:"environment-validation",level:2},{value:"Performance Testing",id:"performance-testing",level:3},{value:"Multi-Robot Environments",id:"multi-robot-environments",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Environment Design Guidelines",id:"environment-design-guidelines",level:3},{value:"Model Management",id:"model-management",level:3},{value:"Safety Considerations",id:"safety-considerations",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"gazebo-environment-setup",children:"Gazebo Environment Setup"})}),"\n",(0,o.jsx)(n.h2,{id:"introduction-to-gazebo-environment-configuration",children:"Introduction to Gazebo Environment Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Setting up comprehensive Gazebo environments is crucial for effective humanoid robot simulation. A well-configured environment provides realistic physics, appropriate lighting, and accurate sensor simulation that closely matches real-world conditions."}),"\n",(0,o.jsx)(n.h2,{id:"gazebo-world-file-structure",children:"Gazebo World File Structure"}),"\n",(0,o.jsx)(n.h3,{id:"basic-world-file-components",children:"Basic World File Components"}),"\n",(0,o.jsx)(n.p,{children:"A Gazebo world file is an XML document that defines the complete simulation environment:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<sdf version='1.7'>\r\n  <world name='default'>\r\n    \x3c!-- Physics engine configuration --\x3e\r\n    <physics type=\"ode\">\r\n      <max_step_size>0.001</max_step_size>\r\n      <real_time_factor>1</real_time_factor>\r\n      <real_time_update_rate>1000</real_time_update_rate>\r\n    </physics>\r\n\r\n    \x3c!-- Scene lighting --\x3e\r\n    <include>\r\n      <uri>model://sun</uri>\r\n    </include>\r\n\r\n    \x3c!-- Ground plane --\x3e\r\n    <include>\r\n      <uri>model://ground_plane</uri>\r\n    </include>\r\n\r\n    \x3c!-- Models and objects --\x3e\r\n    \x3c!-- Robot models, furniture, etc. --\x3e\r\n\r\n  </world>\r\n</sdf>\n"})}),"\n",(0,o.jsx)(n.h3,{id:"physics-configuration",children:"Physics Configuration"}),"\n",(0,o.jsx)(n.h4,{id:"real-time-performance-settings",children:"Real-time Performance Settings"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<physics type="ode">\r\n  <max_step_size>0.001</max_step_size>  \x3c!-- Simulation time step --\x3e\r\n  <real_time_factor>1.0</real_time_factor>  \x3c!-- Simulation speed --\x3e\r\n  <real_time_update_rate>1000.0</real_time_update_rate>  \x3c!-- Update frequency --\x3e\r\n  <gravity>0 0 -9.8</gravity>  \x3c!-- Gravity vector --\x3e\r\n</physics>\n'})}),"\n",(0,o.jsx)(n.h4,{id:"solver-parameters",children:"Solver Parameters"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Step size"}),": Smaller for accuracy, larger for performance"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Real-time factor"}),": 1.0 for real-time, higher for faster simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Update rate"}),": Higher for more responsive simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Gravity"}),": Standard Earth gravity (0, 0, -9.8) or custom"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"environment-elements",children:"Environment Elements"}),"\n",(0,o.jsx)(n.h3,{id:"lighting-setup",children:"Lighting Setup"}),"\n",(0,o.jsx)(n.h4,{id:"sun-model-configuration",children:"Sun Model Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<model name='sun'>\r\n  <pose>0 0 10 0 0 0</pose>\r\n  <link name='link'>\r\n    <visual name='visual'>\r\n      <geometry>\r\n        <sphere><radius>1000.0</radius></sphere>\r\n      </geometry>\r\n      <material>\r\n        <script>Gazebo/Blue<\/script>\r\n      </material>\r\n    </visual>\r\n  </link>\r\n</model>\n"})}),"\n",(0,o.jsx)(n.h4,{id:"custom-light-sources",children:"Custom Light Sources"}),"\n",(0,o.jsx)(n.p,{children:"For indoor environments, add custom lights:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<light name='room_light' type='point'>\r\n  <pose>0 0 3 0 0 0</pose>\r\n  <diffuse>1 1 1 1</diffuse>\r\n  <specular>0.5 0.5 0.5 1</specular>\r\n  <attenuation>\r\n    <range>10</range>\r\n    <linear>0.1</linear>\r\n    <quadratic>0.01</quadratic>\r\n  </attenuation>\r\n</light>\n"})}),"\n",(0,o.jsx)(n.h3,{id:"ground-and-terrain",children:"Ground and Terrain"}),"\n",(0,o.jsx)(n.h4,{id:"ground-plane",children:"Ground Plane"}),"\n",(0,o.jsx)(n.p,{children:"The default ground plane:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<include>\r\n  <uri>model://ground_plane</uri>\r\n</include>\n"})}),"\n",(0,o.jsx)(n.h4,{id:"custom-terrain",children:"Custom Terrain"}),"\n",(0,o.jsx)(n.p,{children:"For complex terrain:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<model name='terrain'>\r\n  <static>true</static>\r\n  <link name='link'>\r\n    <collision name='collision'>\r\n      <geometry>\r\n        <heightmap>\r\n          <uri>model://terrain/heightmap.png</uri>\r\n          <size>100 100 20</size>\r\n        </heightmap>\r\n      </geometry>\r\n    </collision>\r\n    <visual name='visual'>\r\n      <geometry>\r\n        <heightmap>\r\n          <uri>model://terrain/heightmap.png</uri>\r\n          <size>100 100 20</size>\r\n        </heightmap>\r\n      </geometry>\r\n    </visual>\r\n  </link>\r\n</model>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"model-placement-and-configuration",children:"Model Placement and Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"robot-model-integration",children:"Robot Model Integration"}),"\n",(0,o.jsx)(n.p,{children:"Include your humanoid robot model:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<include>\r\n  <name>humanoid_robot</name>\r\n  <pose>0 0 1 0 0 0</pose>\r\n  <uri>model://my_humanoid_robot</uri>\r\n</include>\n"})}),"\n",(0,o.jsx)(n.h3,{id:"environment-objects",children:"Environment Objects"}),"\n",(0,o.jsx)(n.p,{children:"Add furniture, obstacles, and other objects:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<include>\r\n  <name>table</name>\r\n  <pose>2 0 0 0 0 0</pose>\r\n  <uri>model://table</uri>\r\n</include>\r\n\r\n<include>\r\n  <name>box</name>\r\n  <pose>-1 1 0.5 0 0 0</pose>\r\n  <uri>model://box</uri>\r\n</include>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"advanced-environment-features",children:"Advanced Environment Features"}),"\n",(0,o.jsx)(n.h3,{id:"plugins-for-enhanced-functionality",children:"Plugins for Enhanced Functionality"}),"\n",(0,o.jsx)(n.h4,{id:"world-control-plugin",children:"World Control Plugin"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<plugin name="world_control" filename="libgazebo_ros_world.so">\r\n  <ros>\r\n    <namespace>/gazebo</namespace>\r\n  </ros>\r\n  <update_rate>1.0</update_rate>\r\n</plugin>\n'})}),"\n",(0,o.jsx)(n.h4,{id:"joint-state-publisher",children:"Joint State Publisher"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<plugin name="joint_state_publisher" filename="libgazebo_ros_joint_state_publisher.so">\r\n  <ros>\r\n    <namespace>/robot</namespace>\r\n    <remapping>~/out:=joint_states</remapping>\r\n  </ros>\r\n  <update_rate>30</update_rate>\r\n  <joint_name>joint1</joint_name>\r\n  <joint_name>joint2</joint_name>\r\n</plugin>\n'})}),"\n",(0,o.jsx)(n.h3,{id:"camera-and-sensor-worlds",children:"Camera and Sensor Worlds"}),"\n",(0,o.jsx)(n.p,{children:"Create worlds optimized for sensor simulation:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<world name='sensor_test_world'>\r\n  <physics type=\"ode\">\r\n    <max_step_size>0.001</max_step_size>\r\n    <real_time_factor>1.0</real_time_factor>\r\n  </physics>\r\n\r\n  \x3c!-- Calibrated targets for sensor validation --\x3e\r\n  <include>\r\n    <name>calibration_board</name>\r\n    <pose>1 0 1 0 0 0</pose>\r\n    <uri>model://calibration_board</uri>\r\n  </include>\r\n\r\n  \x3c!-- Various materials for sensor testing --\x3e\r\n  <include>\r\n    <name>material_test_grid</name>\r\n    <pose>-2 0 0 0 0 0</pose>\r\n    <uri>model://material_test_grid</uri>\r\n  </include>\r\n</world>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"environment-customization",children:"Environment Customization"}),"\n",(0,o.jsx)(n.h3,{id:"indoor-environments",children:"Indoor Environments"}),"\n",(0,o.jsx)(n.p,{children:"For indoor humanoid robot testing:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<world name='indoor_office'>\r\n  <physics type=\"ode\">\r\n    <max_step_size>0.001</max_step_size>\r\n    <real_time_factor>1.0</real_time_factor>\r\n  </physics>\r\n\r\n  \x3c!-- Indoor lighting --\x3e\r\n  <light name='ceiling_light' type='point'>\r\n    <pose>0 0 2.5 0 0 0</pose>\r\n    <diffuse>0.8 0.8 0.8 1</diffuse>\r\n  </light>\r\n\r\n  \x3c!-- Office furniture --\x3e\r\n  <include>\r\n    <name>desk</name>\r\n    <pose>1 0 0 0 0 0</pose>\r\n    <uri>model://desk</uri>\r\n  </include>\r\n\r\n  <include>\r\n    <name>chair</name>\r\n    <pose>1.5 -0.8 0 0 0 1.57</uri>\r\n    <uri>model://chair</uri>\r\n  </include>\r\n\r\n  \x3c!-- Walls --\x3e\r\n  <model name='wall_1'>\r\n    <static>true</static>\r\n    <link name='link'>\r\n      <collision name='collision'>\r\n        <geometry><box><size>5 0.2 2.5</size></box></geometry>\r\n      </collision>\r\n      <visual name='visual'>\r\n        <geometry><box><size>5 0.2 2.5</size></box></geometry>\r\n      </visual>\r\n    </link>\r\n  </model>\r\n</world>\n"})}),"\n",(0,o.jsx)(n.h3,{id:"outdoor-environments",children:"Outdoor Environments"}),"\n",(0,o.jsx)(n.p,{children:"For outdoor humanoid robot testing:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<world name='outdoor_park'>\r\n  <physics type=\"ode\">\r\n    <max_step_size>0.001</max_step_size>\r\n    <real_time_factor>1.0</real_time_factor>\r\n  </physics>\r\n\r\n  \x3c!-- Terrain with varying elevations --\x3e\r\n  <model name='hilly_terrain'>\r\n    <static>true</static>\r\n    <link name='link'>\r\n      <collision name='collision'>\r\n        <geometry>\r\n          <heightmap>\r\n            <uri>file://terrain/hilly_heightmap.png</uri>\r\n            <size>50 50 5</size>\r\n          </heightmap>\r\n        </geometry>\r\n      </collision>\r\n    </link>\r\n  </model>\r\n\r\n  \x3c!-- Trees and vegetation --\x3e\r\n  <include>\r\n    <name>tree_1</name>\r\n    <pose>5 3 0 0 0 0</pose>\r\n    <uri>model://tree</uri>\r\n  </include>\r\n\r\n  <include>\r\n    <name>bench</name>\r\n    <pose>-2 -4 0 0 0 0.785</pose>\r\n    <uri>model://bench</uri>\r\n  </include>\r\n</world>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"environment-validation",children:"Environment Validation"}),"\n",(0,o.jsx)(n.h3,{id:"performance-testing",children:"Performance Testing"}),"\n",(0,o.jsx)(n.p,{children:"Test your environment setup:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Real-time factor"}),": Ensure it stays close to 1.0"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Physics stability"}),": Check for jittering or instability"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Sensor accuracy"}),": Validate sensor outputs"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Collision detection"}),": Verify proper collision behavior"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"multi-robot-environments",children:"Multi-Robot Environments"}),"\n",(0,o.jsx)(n.p,{children:"For testing multiple humanoid robots:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:"<world name='multi_robot'>\r\n  <physics type=\"ode\">\r\n    <max_step_size>0.001</max_step_size>\r\n    <real_time_factor>1.0</real_time_factor>\r\n  </physics>\r\n\r\n  \x3c!-- Robot 1 --\x3e\r\n  <include>\r\n    <name>robot_1</name>\r\n    <pose>0 0 1 0 0 0</pose>\r\n    <uri>model://humanoid_robot</uri>\r\n  </include>\r\n\r\n  \x3c!-- Robot 2 --\x3e\r\n  <include>\r\n    <name>robot_2</name>\r\n    <pose>2 0 1 0 0 0</pose>\r\n    <uri>model://humanoid_robot</uri>\r\n  </include>\r\n\r\n  \x3c!-- Shared environment objects --\x3e\r\n  <include>\r\n    <name>shared_table</name>\r\n    <pose>1 1 0 0 0 0</pose>\r\n    <uri>model://table</uri>\r\n  </include>\r\n</world>\n"})}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"environment-design-guidelines",children:"Environment Design Guidelines"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Start simple"}),": Begin with basic environments and add complexity"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validate physics"}),": Ensure stable and realistic physics simulation"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Test sensor outputs"}),": Verify that sensors behave as expected"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Optimize performance"}),": Balance realism with computational efficiency"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"model-management",children:"Model Management"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Organize models"}),": Keep custom models in a structured directory"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Version control"}),": Track changes to environment configurations"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Documentation"}),": Document environment parameters and assumptions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Reusability"}),": Design modular environments that can be combined"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"safety-considerations",children:"Safety Considerations"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Simulation limits"}),": Define operational boundaries"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Emergency stops"}),": Implement simulation pause capabilities"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Failure modes"}),": Test robot behavior under various failure conditions"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Validation"}),": Compare simulation results with real-world data"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Proper Gazebo environment setup is essential for effective humanoid robot development, providing a safe, controllable, and repeatable testing environment."})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>s});var i=r(6540);const o={},t=i.createContext(o);function l(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);