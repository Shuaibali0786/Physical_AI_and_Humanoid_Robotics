"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[209],{1292:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>t,default:()=>u,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"modules/ros2-nervous-system/humanoid-modeling/simulation-setup","title":"Simulation Setup for Humanoid Robots","description":"Overview","source":"@site/docs/modules/ros2-nervous-system/humanoid-modeling/simulation-setup.md","sourceDirName":"modules/ros2-nervous-system/humanoid-modeling","slug":"/modules/ros2-nervous-system/humanoid-modeling/simulation-setup","permalink":"/docs/modules/ros2-nervous-system/humanoid-modeling/simulation-setup","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"modules","previous":{"title":"URDF Structure for Humanoid Robots","permalink":"/docs/modules/ros2-nervous-system/humanoid-modeling/urdf-structure"},"next":{"title":"Exercises: Humanoid Robot Modeling with URDF","permalink":"/docs/modules/ros2-nervous-system/humanoid-modeling/exercises"}}');var o=i(4848),s=i(8453);const l={},t="Simulation Setup for Humanoid Robots",a={},d=[{value:"Overview",id:"overview",level:2},{value:"Gazebo Integration",id:"gazebo-integration",level:2},{value:"Adding Gazebo Plugins",id:"adding-gazebo-plugins",level:3},{value:"Controller Configuration",id:"controller-configuration",level:2},{value:"Joint State Controller",id:"joint-state-controller",level:3},{value:"Position Controllers",id:"position-controllers",level:3},{value:"Launch Files",id:"launch-files",level:2},{value:"RViz Visualization",id:"rviz-visualization",level:2},{value:"Basic Humanoid URDF Example",id:"basic-humanoid-urdf-example",level:2},{value:"Simulation Best Practices",id:"simulation-best-practices",level:2},{value:"Debugging Simulation Issues",id:"debugging-simulation-issues",level:2},{value:"Testing URDF Models",id:"testing-urdf-models",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"simulation-setup-for-humanoid-robots",children:"Simulation Setup for Humanoid Robots"})}),"\n",(0,o.jsx)(e.h2,{id:"overview",children:"Overview"}),"\n",(0,o.jsx)(e.p,{children:"Setting up humanoid robots for simulation involves configuring the URDF model for use in simulation environments like Gazebo. This includes adding plugins for physics, sensors, and controllers."}),"\n",(0,o.jsx)(e.h2,{id:"gazebo-integration",children:"Gazebo Integration"}),"\n",(0,o.jsx)(e.p,{children:"To integrate your URDF with Gazebo, add Gazebo-specific extensions:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<gazebo reference="link_name">\r\n  <material>Gazebo/Red</material>\r\n  <mu1>0.2</mu1>\r\n  <mu2>0.2</mu2>\r\n  <kp>1000000.0</kp>\r\n  <kd>100.0</kd>\r\n</gazebo>\n'})}),"\n",(0,o.jsx)(e.h3,{id:"adding-gazebo-plugins",children:"Adding Gazebo Plugins"}),"\n",(0,o.jsx)(e.p,{children:"For physics simulation, controllers, and sensors, you need to add plugins:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<gazebo>\r\n  <plugin name="robot_state_publisher" filename="libgazebo_ros_robot_state_publisher.so">\r\n    <tf_topic>tf</tf_topic>\r\n    <robot_param>robot_description</robot_param>\r\n  </plugin>\r\n</gazebo>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"controller-configuration",children:"Controller Configuration"}),"\n",(0,o.jsx)(e.p,{children:"To control your humanoid robot in simulation, you need controller configurations:"}),"\n",(0,o.jsx)(e.h3,{id:"joint-state-controller",children:"Joint State Controller"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"joint_state_controller:\r\n  type: joint_state_controller/JointStateController\r\n  publish_rate: 50\n"})}),"\n",(0,o.jsx)(e.h3,{id:"position-controllers",children:"Position Controllers"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"arm_controller:\r\n  type: position_controllers/JointPositionController\r\n  joints: [shoulder_joint, elbow_joint, wrist_joint]\n"})}),"\n",(0,o.jsx)(e.h2,{id:"launch-files",children:"Launch Files"}),"\n",(0,o.jsx)(e.p,{children:"Create launch files to start your simulation:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<launch>\r\n  \x3c!-- Load robot description --\x3e\r\n  <param name="robot_description" command="$(find xacro)/xacro --inorder \'$(find package)/urdf/robot.urdf.xacro\'" />\r\n\r\n  \x3c!-- Spawn robot in Gazebo --\x3e\r\n  <node name="spawn_urdf" pkg="gazebo_ros" type="spawn_model" args="-param robot_description -urdf -model robot_name" />\r\n\r\n  \x3c!-- Start robot state publisher --\x3e\r\n  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" />\r\n</launch>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"rviz-visualization",children:"RViz Visualization"}),"\n",(0,o.jsx)(e.p,{children:"For visualization in RViz, create a configuration file:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:"Panels:\r\n  - Class: rviz/Displays\r\n    Name: Displays\r\n  - Class: rviz/Views\r\n    Name: Views\r\nVisualization Manager:\r\n  Displays:\r\n    - Class: rviz/RobotModel\r\n      Name: RobotModel\r\n      Topic: /robot_description\r\n      Update Interval: 0\n"})}),"\n",(0,o.jsx)(e.h2,{id:"basic-humanoid-urdf-example",children:"Basic Humanoid URDF Example"}),"\n",(0,o.jsx)(e.p,{children:"Here's a minimal humanoid URDF with simulation setup:"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\r\n  \x3c!-- Fixed base link --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.2"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0 0 1 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.2"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="5"/>\r\n      <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.1"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Torso --\x3e\r\n  <link name="torso">\r\n    <visual>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.4"/>\r\n      </geometry>\r\n      <material name="white">\r\n        <color rgba="1 1 1 0.8"/>\r\n      </material>\r\n    </visual>\r\n    <collision>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    <inertial>\r\n      <mass value="10"/>\r\n      <inertia ixx="0.2" ixy="0" ixz="0" iyy="0.2" iyz="0" izz="0.2"/>\r\n    </inertial>\r\n  </link>\r\n\r\n  \x3c!-- Joint connecting base to torso --\x3e\r\n  <joint name="base_to_torso" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="torso"/>\r\n    <origin xyz="0 0 0.3"/>\r\n  </joint>\r\n\r\n  \x3c!-- Gazebo extensions --\x3e\r\n  <gazebo>\r\n    <plugin name="ground_truth" filename="libgazebo_ros_p3d.so">\r\n      <alwaysOn>true</alwaysOn>\r\n      <updateRate>30.0</updateRate>\r\n      <bodyName>base_link</bodyName>\r\n      <topicName>base_pose_ground_truth</topicName>\r\n      <gaussianNoise>0.01</gaussianNoise>\r\n      <frameName>map</frameName>\r\n    </plugin>\r\n  </gazebo>\r\n</robot>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"simulation-best-practices",children:"Simulation Best Practices"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Start Simple"}),": Begin with a basic model and add complexity gradually"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Validate Physics"}),": Ensure inertial properties are realistic"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Tune Parameters"}),": Adjust friction, damping, and other physics parameters"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Use Appropriate Meshes"}),": For visualization, use simplified meshes for collision"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Consider Performance"}),": Balance detail with simulation speed"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Test Controllers"}),": Verify that controllers work properly with your model"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"debugging-simulation-issues",children:"Debugging Simulation Issues"}),"\n",(0,o.jsx)(e.p,{children:"Common issues and solutions:"}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Robot falls through the ground"}),": Check collision geometries and inertial properties"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Joints behave strangely"}),": Verify joint limits and origins"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Simulation is unstable"}),": Adjust solver parameters or reduce complexity"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Robot doesn't respond to commands"}),": Check controller configurations and joint names"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"testing-urdf-models",children:"Testing URDF Models"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Visual inspection"}),": Load in RViz to check structure"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Validation"}),": Use ",(0,o.jsx)(e.code,{children:"check_urdf"})," to verify syntax"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Simulation"}),": Test in Gazebo for physics behavior"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Kinematics"}),": Verify joint ranges and motion patterns"]}),"\n"]})]})}function u(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>t});var r=i(6540);const o={},s=r.createContext(o);function l(n){const e=r.useContext(s);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:l(n.components),r.createElement(s.Provider,{value:e},n.children)}}}]);