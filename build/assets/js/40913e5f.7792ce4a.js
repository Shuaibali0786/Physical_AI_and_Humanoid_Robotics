"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[784],{3888:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>m,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"modules/ros2-nervous-system/python-integration/agent-communication","title":"Python Agent Communication","description":"Introduction","source":"@site/docs/modules/ros2-nervous-system/python-integration/agent-communication.md","sourceDirName":"modules/ros2-nervous-system/python-integration","slug":"/modules/ros2-nervous-system/python-integration/agent-communication","permalink":"/docs/modules/ros2-nervous-system/python-integration/agent-communication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"modules","previous":{"title":"rclpy Basics","permalink":"/docs/modules/ros2-nervous-system/python-integration/rclpy-basics"},"next":{"title":"Exercises: Python Agents & ROS 2 Integration","permalink":"/docs/modules/ros2-nervous-system/python-integration/exercises"}}');var r=t(4848),i=t(8453);const o={},a="Python Agent Communication",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Agent Architecture",id:"agent-architecture",level:2},{value:"Example: Simple Sensor-Action Agent",id:"example-simple-sensor-action-agent",level:2},{value:"Complex Agent with State Management",id:"complex-agent-with-state-management",level:2},{value:"Communication Patterns for Agents",id:"communication-patterns-for-agents",level:2},{value:"Event-Driven Communication",id:"event-driven-communication",level:3},{value:"Goal-Driven Communication",id:"goal-driven-communication",level:3},{value:"Collaborative Communication",id:"collaborative-communication",level:3},{value:"Best Practices for Agent Communication",id:"best-practices-for-agent-communication",level:2},{value:"Integration with AI Libraries",id:"integration-with-ai-libraries",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"python-agent-communication",children:"Python Agent Communication"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"In robotics, agents are autonomous entities that perceive their environment and take actions to achieve goals. In ROS 2, Python agents typically implement this by subscribing to sensor data topics, processing the information, and publishing commands or service requests."}),"\n",(0,r.jsx)(n.h2,{id:"agent-architecture",children:"Agent Architecture"}),"\n",(0,r.jsx)(n.p,{children:"A typical Python agent in ROS 2 follows this pattern:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Perception"}),": Subscribe to sensor topics and service responses"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Processing"}),": Analyze data and make decisions"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Action"}),": Publish commands or request services"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"example-simple-sensor-action-agent",children:"Example: Simple Sensor-Action Agent"}),"\n",(0,r.jsx)(n.p,{children:"Here's a basic agent that responds to sensor input:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan\r\nfrom geometry_msgs.msg import Twist\r\n\r\nclass SimpleAgent(Node):\r\n    def __init__(self):\r\n        super().__init__('simple_agent')\r\n\r\n        # Subscribe to sensor data\r\n        self.subscription = self.create_subscription(\r\n            LaserScan,\r\n            'scan',\r\n            self.laser_callback,\r\n            10)\r\n\r\n        # Publish movement commands\r\n        self.publisher = self.create_publisher(Twist, 'cmd_vel', 10)\r\n\r\n        # Store sensor data\r\n        self.latest_scan = None\r\n\r\n    def laser_callback(self, msg):\r\n        self.latest_scan = msg\r\n        self.process_sensor_data()\r\n\r\n    def process_sensor_data(self):\r\n        if self.latest_scan is None:\r\n            return\r\n\r\n        # Simple obstacle avoidance logic\r\n        min_distance = min(self.latest_scan.ranges)\r\n\r\n        cmd = Twist()\r\n        if min_distance > 1.0:  # No obstacle nearby\r\n            cmd.linear.x = 0.5  # Move forward\r\n            cmd.angular.z = 0.0\r\n        else:  # Obstacle detected\r\n            cmd.linear.x = 0.0\r\n            cmd.angular.z = 0.5  # Turn right\r\n\r\n        self.publisher.publish(cmd)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"complex-agent-with-state-management",children:"Complex Agent with State Management"}),"\n",(0,r.jsx)(n.p,{children:"For more sophisticated agents, you might want to maintain state:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom std_msgs.msg import String\r\nfrom enum import Enum\r\n\r\nclass AgentState(Enum):\r\n    IDLE = 1\r\n    MOVING_TO_GOAL = 2\r\n    AVOIDING_OBSTACLE = 3\r\n    COMPLETED_TASK = 4\r\n\r\nclass StatefulAgent(Node):\r\n    def __init__(self):\r\n        super().__init__('stateful_agent')\r\n        self.state = AgentState.IDLE\r\n        self.goal_reached = False\r\n\r\n        # Setup publishers, subscribers, etc.\r\n\r\n    def update_state(self):\r\n        if self.state == AgentState.IDLE:\r\n            self.start_new_task()\r\n        elif self.state == AgentState.MOVING_TO_GOAL:\r\n            if self.detect_obstacle():\r\n                self.state = AgentState.AVOIDING_OBSTACLE\r\n            elif self.reached_goal():\r\n                self.state = AgentState.COMPLETED_TASK\r\n        elif self.state == AgentState.AVOIDING_OBSTACLE:\r\n            if not self.detect_obstacle():\r\n                self.state = AgentState.MOVING_TO_GOAL\n"})}),"\n",(0,r.jsx)(n.h2,{id:"communication-patterns-for-agents",children:"Communication Patterns for Agents"}),"\n",(0,r.jsx)(n.h3,{id:"event-driven-communication",children:"Event-Driven Communication"}),"\n",(0,r.jsx)(n.p,{children:"Agents respond to events from their environment:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def sensor_callback(self, msg):\r\n    # Process sensor event\r\n    self.react_to_environment(msg)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"goal-driven-communication",children:"Goal-Driven Communication"}),"\n",(0,r.jsx)(n.p,{children:"Agents work toward specific objectives:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def request_navigation_goal(self, x, y):\r\n    # Request navigation to specific coordinates\r\n    pass\n"})}),"\n",(0,r.jsx)(n.h3,{id:"collaborative-communication",children:"Collaborative Communication"}),"\n",(0,r.jsx)(n.p,{children:"Multiple agents coordinate with each other:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"def broadcast_agent_status(self):\r\n    # Share agent state with other agents\r\n    status_msg = AgentStatus()\r\n    status_msg.id = self.agent_id\r\n    status_msg.state = self.state\r\n    self.status_publisher.publish(status_msg)\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices-for-agent-communication",children:"Best Practices for Agent Communication"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Maintain clear state machines"})," to manage agent behavior"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use appropriate QoS settings"})," for reliable communication"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implement proper error handling"})," for sensor failures"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Design for modularity"})," to enable code reuse"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Consider timing constraints"})," for real-time behavior"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Implement graceful degradation"})," when sensors fail"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"integration-with-ai-libraries",children:"Integration with AI Libraries"}),"\n",(0,r.jsx)(n.p,{children:"Python agents can easily integrate with AI libraries:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import tensorflow as tf\r\n# or\r\nimport torch\r\n# or\r\nimport sklearn\r\n\r\nclass AIEnabledAgent(Node):\r\n    def __init__(self):\r\n        super().__init__('ai_agent')\r\n        # Load pre-trained model\r\n        self.model = self.load_model()\r\n\r\n    def process_with_ai(self, sensor_data):\r\n        # Use AI model to process sensor data\r\n        prediction = self.model.predict(sensor_data)\r\n        return prediction\n"})}),"\n",(0,r.jsx)(n.p,{children:"This enables sophisticated behavior like object recognition, path planning, and decision making in robotic agents."})]})}function m(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);